///////////////////////////////////////////////////////////////////
//
// Nate Dzbenski
// Gas mixture analysis
//
///////////////////////////////////////////////////////////////////


#include "TCanvas.h"
#include "TStyle.h"
#include "TH1.h"
#include "TGaxis.h"
#include "TRandom.h"
#include "TFile.h"
#include "TTree.h"
#include "TROOT.h"
#include "TChain.h"
#include "TMath.h"
#include <iostream>
#include <fstream>
#include <string>
#include <iomanip>
#include <locale>
#include <sstream>
#include <math.h>

void gases()
{
    gROOT->SetStyle("Plain");
    
    //________________________________________________________________________________________________
    // ____________________________________________Variables__________________________________________
    //________________________________________________________________________________________________


    const int dme_n = 11;
    const int iso_n = 6;
    const int meth_n = 3;
    const int co2_n = 4;
    
    // He/DME
    float dme_x[dme_n] = {0.132284, 0.139309, 0.147646, 0.156387, 0.16548, 0.176872, 0.18885, 0.202092, 0.216939, 0.234539, 0.254212};
    float dme_y[dme_n] = {2259.48, 2237.77, 2227.95, 2225.99, 2225.94, 2246.63, 2261.41, 2291.11, 2338.28, 2401.06, 2492.98};
    float dme_ex[dme_n] = {0.00371001, 0.00228263, 0.00277882, 0.00261611, 0.0028645, 0.00240239, 0.00348539, 0.00404023, 0.00395549, 0.00378189, 0.00571966};
    float dme_ey[dme_n] = {32.0047, 29.6519, 39.2357, 26.193, 23.1099, 41.6521, 31.3969, 28.6371, 37.9934, 47.308, 50.9653};
        
    
    // He/C4H10
    float iso_x[iso_n] = {0.407913, 0.408336, 0.407675, 0.409011, 0.407652, 0.406804};
    float iso_y[iso_n] = {3354.96, 3347.37, 3354.99, 3347.58, 3364.13, 3356.33};
    float iso_ex[iso_n] = {0.00820977, 0.00795985, 0.00641229, 0.00756464, 0.00790651, 0.00751042};
    float iso_ey[iso_n] = {70.4218, 64.7191, 52.5549, 49.863, 43.9296, 59.5553};
    
    // He/CH4
    float meth_x[meth_n] = {0.445831, 0.399972, 0.328871};
    float meth_y[meth_n] = {3595.52, 3354.54, 2949.97};
    float meth_ex[meth_n] = {0.00966159, 0.0111662, 0.0086869};
    float meth_ey[meth_n] = {74.8215, 81.1756, 48.9562};
    
    // He/CO2
    float co2_x[co2_n] = {0.196402, 0.231004, 0.279854, 0.342074};
    float co2_y[co2_n] = {2273.7, 2404.95, 2608.76, 2976.04};
    float co2_ex[co2_n] = {0.00321834, 0.00352778, 0.00711494, 0.00670551};
    float co2_ey[co2_n] = {25.3668, 52.113, 54.3411, 75.199};
    
    //________________________________________________________________________________________________
    //_____________________________________ Canvas and histograms ____________________________________
    //________________________________________________________________________________________________
    

    TCanvas *c1 = new TCanvas("c1","Gas Mixture Analysis",800,600);

    TGraphErrors *dme = new TGraphErrors(dme_n,dme_x,dme_y,dme_ex,dme_ey);
    TGraphErrors *meth = new TGraphErrors(meth_n,meth_x,meth_y,meth_ex,meth_ey);
    TGraphErrors *iso = new TGraphErrors(iso_n,iso_x,iso_y,iso_ex,iso_ey);
    TGraphErrors *co2 = new TGraphErrors(co2_n,co2_x,co2_y,co2_ex,co2_ey);
    
    TMultiGraph *gr = new TMultiGraph();
    
    
    //________________________________________________________________________________________________
    // ___________________________________________ Openings __________________________________________
    //________________________________________________________________________________________________

    
    //________________________________________________________________________________________________
    // ___________________________________________ Readings __________________________________________
    //________________________________________________________________________________________________
    
    
    
    //________________________________________________________________________________________________
    // _____________________________________________ Displays ________________________________________
    //________________________________________________________________________________________________
    
    
    c1->cd();
    
    dme->SetMarkerColor(1);
    dme->SetMarkerStyle(21);
    dme->SetMarkerSize(1);
    iso->SetMarkerColor(2);
    iso->SetMarkerStyle(21);
    iso->SetMarkerSize(1);
    meth->SetMarkerColor(4);
    meth->SetMarkerStyle(21);
    meth->SetMarkerSize(1);
    co2->SetMarkerColor(3);
    co2->SetMarkerStyle(21);
    co2->SetMarkerSize(1);
    
    gr->SetTitle("Gas Mixture Analysis");
    
    gr->Add(dme);
    gr->Add(iso);
    gr->Add(meth);
    gr->Add(co2);

    gr->Draw("AP");
    gr->GetXaxis()->SetTitle("#Delta #phi_{d} [rad]");
    gr->GetYaxis()->SetTitle("t_{d} [ns]");
    
    
    return;
    
    
    
    
    
}
